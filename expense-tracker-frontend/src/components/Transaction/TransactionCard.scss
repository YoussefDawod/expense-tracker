@import '../../styles/variables.scss';

.transaction-card {
  display: flex;
  align-items: center;
  gap: $space-md;
  padding: $space-lg;
  border: $border-width solid $color-border;
  border-radius: $border-radius-lg;
  background-color: $color-bg;
  box-shadow: $shadow-sm;
  transition: background-color $transition-fast, box-shadow $transition-fast, transform $transition-fast;

  @include on-mobile {
    gap: $space-sm;
    padding: $touch-padding-lg;
    flex-wrap: wrap;
  }

  @include touch-device {
    &:active {
      background-color: $color-bg-secondary;
      box-shadow: $shadow-md;
    }
  }

  @include hover-device {
    &:hover {
      background-color: $color-bg-secondary;
      box-shadow: $shadow-md;
    }
  }
}

.transaction-card__left {
  display: flex;
  align-items: center;
  gap: $space-md;
  flex: 1;
  min-width: 0;

  @include on-mobile {
    width: 100%;
    gap: $space-sm;
  }
}

.transaction-card__avatar {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background-color: color-mix(in srgb, $color-primary 10%, transparent);
  border-radius: 50%;
  color: $color-primary;
  flex-shrink: 0;
  box-shadow: $shadow-sm;

  @include on-mobile {
    width: 40px;
    height: 40px;
  }
}

.transaction-card__info {
  flex: 1;
  min-width: 0;
}

.transaction-card__description {
  margin: 0 0 $space-xs 0;
  font-size: $font-size-base;
  font-weight: $font-weight-medium;

  @include on-mobile {
    font-size: $font-size-sm;
  }
}

.transaction-card__category {
  margin: 0 0 $space-xs 0;
  font-size: $font-size-sm;
  color: $color-text-secondary;

  @include on-mobile {
    font-size: $font-size-xs;
  }
}

.transaction-card__date {
  margin: 0;
  font-size: $font-size-xs;
  color: $color-text-light;
}

.transaction-card__amount {
  display: flex;
  align-items: baseline;
  gap: $space-xs;
  font-size: $font-size-lg;
  font-weight: $font-weight-bold;
  white-space: nowrap;
  flex-shrink: 0;

  @include on-mobile {
    order: 2;
    width: 100%;
    justify-content: space-between;
    font-size: $font-size-base;
  }

  &--expense {
    color: $color-error;
  }

  &--income {
    color: $color-success;
  }
}

.transaction-card__sign {
  font-size: $font-size-base;
  opacity: 0.7;
}

.transaction-card__actions {
  display: flex;
  gap: $space-sm;
  flex-shrink: 0;

  @include on-mobile {
    order: 3;
    width: 100%;
    justify-content: flex-end;
  }
}

.transaction-card__btn {
  @include button-reset;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: $border-radius-md;
  font-size: 16px;
  transition: all $transition-fast;
  background-color: transparent;
  min-height: $touch-target-min;
  min-width: $touch-target-min;

  @include touch-device {
    &:active {
      background-color: $color-bg-secondary;
      transform: scale(0.95);
    }
  }

  @include hover-device {
    &:hover {
      background-color: $color-bg-secondary;
      transform: scale(1.1);
    }
  }

  &--edit:hover {
    background-color: color-mix(in srgb, $color-primary 14%, transparent);
  }

  &--delete:hover {
    background-color: color-mix(in srgb, $color-error 14%, transparent);
  }
}
